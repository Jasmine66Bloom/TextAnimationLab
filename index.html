<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextAnimationLab</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>TextAnimationLab</h1>
        
        <div class="controls">
            <input type="text" id="textInput" placeholder="输入要显示的文字..." value="文字动画效果">
        </div>
        
        <div class="effect-options">
            <div class="effect-group">
                <h3>基础效果</h3>
                <div class="effect-options-grid">
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="wave" checked>
                        <span>波浪效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="bounce">
                        <span>弹跳效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="rainbow" checked>
                        <span>彩虹效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="glow">
                        <span>发光效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="shadow">
                        <span>阴影效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="float">
                        <span>漂浮效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="pulse">
                        <span>脉动效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="gradient">
                        <span>渐变效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="swing">
                        <span>摇摆效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="shake">
                        <span>震动效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="blur">
                        <span>模糊效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="outline">
                        <span>轮廓效果</span>
                    </label>
                </div>
            </div>

            <div class="effect-group">
                <h3>高级效果</h3>
                <div class="effect-options-grid">
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="zoom">
                        <span>缩放效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="rotate">
                        <span>2D旋转</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="3drotate">
                        <span>3D旋转</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="spiral">
                        <span>螺旋效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="particle">
                        <span>粒子效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="fire">
                        <span>火焰效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="ice">
                        <span>冰霜效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="lightning">
                        <span>闪电效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="typewriter">
                        <span>打字机效果</span>
                    </label>
                    <label class="effect-option">
                        <input type="checkbox" name="effect" value="neon">
                        <span>霓虹灯效果</span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="entrance-controls">
            <div class="control-row">
                <div class="entrance-option">
                    <label for="entranceEffect">出现效果</label>
                    <select id="entranceEffect">
                        <option value="none">无</option>
                        <option value="fade">淡入</option>
                        <option value="slideUp">上滑入</option>
                        <option value="slideDown">下滑入</option>
                        <option value="slideLeft">左滑入</option>
                        <option value="slideRight">右滑入</option>
                        <option value="bounceIn">弹跳进入</option>
                        <option value="zoomIn">放大进入</option>
                        <option value="flipX">水平翻转</option>
                        <option value="flipY">垂直翻转</option>
                        <option value="random">随机字符</option>
                    </select>
                </div>
                <div class="entrance-option">
                    <label for="entranceEffectDuration">出现时长</label>
                    <input type="range" id="entranceEffectDuration" min="0.1" max="5" step="0.1" value="1.5">
                    <span id="entranceDurationValue">1.5s</span>
                </div>
            </div>
            <div class="control-row">
                <div class="entrance-option">
                    <label for="animationDuration">动画时长</label>
                    <input type="range" id="animationDuration" min="1" max="20" step="0.5" value="5">
                    <span id="animationDurationValue">5.0s</span>
                </div>
                <div class="entrance-option">
                    <label for="speedControl">速度</label>
                    <input type="range" id="speedControl" min="0" max="10" step="0.1" value="1.0">
                    <span id="speedValue">1.0x</span>
                </div>
                <button id="applyEffect">应用效果</button>
            </div>
        </div>
        
        <canvas id="textCanvas"></canvas>
        <div style="margin-top: 20px; text-align: center;">
            <button id="saveGif" style="padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
                保存为GIF
            </button>
            <div id="saveStatus" style="margin-top: 10px;"></div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/gif.js/dist/gif.js"></script>
    <script src="text-dance.js"></script>
    <script>
        // 等待所有资源加载完成
        document.addEventListener('DOMContentLoaded', () => {
            // 移除不相关的CCapture检查
            
            // 初始化应用
            const app = new TextDance('textCanvas');
            
            // 确保应用效果按钮可用
            const applyBtn = document.getElementById('applyEffect');
            if (applyBtn) {
                applyBtn.click();
            }
        });
    </script>
</body>
</html>
